<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>
    <div style="position: absolute; top:30%; bottom:30%; left: 30%; right: 30%">
        <form>
            <div class="form-group">
              <label for="exampleInputEmail1">IP Address</label>
              <input type="text" class="form-control" id="username" placeholder="Enter username">
              <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
            </div>
            <div class="form-group">
              <label for="exampleInputPassword1">RPi ID</label>
              <input type="password" class="form-control" id="password" placeholder="Password">
            </div>
            <div class="form-group form-check">
              <input type="checkbox" class="form-check-input" id="exampleCheck1">
              <label class="form-check-label" for="exampleCheck1">Check me out</label>
            </div>
            <button type="submit" class="btn btn-primary" onclick="sendData()">Submit</button>
          </form>
    </div>
</body>
<script>
    let username = document.getElementById('username');
    let rpi_id = document.getElementById('password');
    const { ipcRenderer } = require('electron');
    const { networkInterfaces } = require('os');

    const nets = networkInterfaces();
    const results = Object.create(null); // Or just '{}', an empty object

    for (const name of Object.keys(nets)) {
        for (const net of nets[name]) {
            // Skip over non-IPv4 and internal (i.e. 127.0.0.1) addresses
            if (net.family === 'IPv4' && !net.internal) {
                if (!results[name]) {
                    results[name] = [];
                }
                results[name].push(net.address);
            }
        }
    }
    
    function sendData() {
        console.log('Send data called');
        ipcRenderer.send('ipAddress', results)
        ipcRenderer.send('username', username.value);
        ipcRenderer.send('rpi_id', rpi_id.value);
    }
</script>
</html>